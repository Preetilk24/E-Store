<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
    th:replace="~{base::layout(~{::section})}">
<head>
    <meta charset="ISO-8859-1">
    <title>Insert title here</title>
</head>
<body>
    <section>
        <style>
            /* Category styles */
            .category-section {
                position: relative;
                padding: 20px 0;
                margin: 20px 0;
            }

            .category-container {
                overflow-x: auto;
                white-space: nowrap;
                scrollbar-width: none; /* Firefox */
                -ms-overflow-style: none; /* IE and Edge */
                scroll-behavior: smooth;
                padding: 10px 40px;
            }

            .category-container::-webkit-scrollbar {
                display: none; /* Chrome, Safari, Opera */
            }

            .category-row {
                display: inline-flex;
                gap: 20px;
                padding: 10px 0;
            }

            .category-item {
                flex: 0 0 auto;
                width: 200px;
            }

            .category-card {
                background: white;
                border-radius: 50%;
                padding: 1.5rem;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                border: 3px solid rgba(0, 0, 0, 0.359);
                transition: all 0.3s ease;
                margin-bottom: 1rem;
            }

            .category-card:hover {
                border-color: #070707;
                transform: translateY(-5px);
            }

            .category-card img {
                width: 100%;
                height: 100px;
                object-fit: contain;
                margin-bottom: 0.5rem;
            }

            .category-card h6 {
                margin: 10px 0 0 0;
                white-space: normal;
                text-align: center;
            }

            .category-card a {
                color: rgb(251, 39, 208);
                text-decoration: none;
                font-weight: bold;
            }

            .scroll-button {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                width: 40px;
                height: 40px;
                border: none;
                border-radius: 50%;
                background: white;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                cursor: pointer;
                z-index: 1;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 20px;
                color: blueviolet;
                transition: all 0.3s ease;
            }

            .scroll-button:hover {
                background: blueviolet;
                color: white;
            }

            .scroll-left {
                left: 0;
            }

            .scroll-right {
                right: 0;
            }

            /* Preserve existing styles */
            .card.black {
                border: 3px solid rgba(0, 0, 0, 0.188);
            }

            .card.hover-border:hover {
                border-color: #010c0cca;
            }
        </style>

        <!-- Start Slider -->
        <div id="carouselExample" class="carousel slide">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="img/ecom1.jpg" class="d-block w-100" alt="..." height="550px">
                </div>
                <div class="carousel-item">
                    <img src="img/ecom2.jpg" class="d-block w-100" alt="..." height="550px">
                </div>
                <div class="carousel-item">
                    <img src="img/ecom3.jpg" class="d-block w-100" alt="..." height="550px">
                </div>
                <div class="carousel-item">
                    <img src="img/ecom4.jpg" class="d-block w-100" alt="..." height="550px">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <!-- End Slider -->

        <!-- Start Category Module -->
        <div class="category-section" style="background-color: rgb(247, 251, 252);">
            <h5 class="text-center fs-4" style="color: blueviolet;">Category</h5>
            <button class="scroll-button scroll-left" onclick="scrollCategories('left')">&lt;</button>
            <div class="category-container" id="categoryContainer">
                <div class="category-row">
                    <div class="category-item" th:each="c:${category}">
                        <div class="category-card">
                            <img th:src="@{'img/category_img/'+${c.imageName}}" alt="Category Image">
                            <h6>
                                <a th:href="@{'/products?category='+${c.name}}" th:text="${c.name}"></a>
                            </h6>
                        </div>
                    </div>
                    <!-- Static categories for demonstration -->
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/appli.png" alt="Beauty">
                            <h6><a href="#">Appliences</a></h6>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/fashion.png" alt="Beauty">
                            <h6><a href="#">Fashion</a></h6>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/book.jpg" alt="Beauty">
                            <h6><a href="#">Books</a></h6>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/cosmetics.png" alt="Beauty">
                            <h6><a href="#">Cosmetics</a></h6>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/furniture.jpg" alt="Beauty">
                            <h6><a href="#">Furniture</a></h6>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/watch.jpg" alt="Beauty">
                            <h6><a href="#">Watch</a></h6>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/appli.png" alt="Beauty">
                            <h6><a href="#">Appliences</a></h6>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/fashion.png" alt="Beauty">
                            <h6><a href="#">Fashion</a></h6>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-card">
                            <img src="img/category_img/book.jpg" alt="Beauty">
                            <h6><a href="#">Books</a></h6>
                        </div>
                    </div>
					
					
					
                    <!-- Add other static categories similarly -->
                </div>
            </div>
            <button class="scroll-button scroll-right" onclick="scrollCategories('right')">&gt;</button>
        </div>
        <!-- End Category Module -->

        <!-- Start Latest Product Module -->
        <div class="container-fluid bg-light p-3">
            <div class="row">
                <p class="text-center fs-4" style="color: blueviolet;">Latest Product</p>
                <div class="col-md-3" th:each="p:${products}">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="" th:src="@{'img/product_img/'+${p.image}}" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a th:href="@{'/product/'+${p.id}}" class="text-decoration-none" 
                                   style="color: rgb(251, 39, 208); font-weight: bold;" th:text="${p.title}"></a>
                            </h6>
                        </div>
                    </div>
                </div>
           
        
                <!-- Sample Product 1: Book - The Magic of Thinking Big -->
                <div class="col-md-3">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="The Magic of Thinking Big" src="img/product_img/book1.jpg" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a href="/product/1" class="text-decoration-none" style="color: rgb(251, 39, 208); font-weight: bold;">The Magic of Thinking Big</a>
                            </h6>
                        </div>
                    </div>
                </div>
        
                <!-- Sample Product 2: Book - Rich Dad Poor Dad -->
                <div class="col-md-3">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="Rich Dad Poor Dad" src="img/product_img/book2.jpg" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a href="/product/2" class="text-decoration-none" style="color: rgb(251, 39, 208); font-weight: bold;">Rich Dad Poor Dad</a>
                            </h6>
                        </div>
                    </div>
                </div>
        
                <!-- Sample Product 3: Book - 80/20 Principle -->
                <div class="col-md-3">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="80/20 Principle" src="img/product_img/book3.png" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a href="/product/3" class="text-decoration-none" style="color: rgb(251, 39, 208); font-weight: bold;">80/20 Principle</a>
                            </h6>
                        </div>
                    </div>
                </div>
        
                <!-- Sample Product 4: Cosmetic - Foundation -->
                <div class="col-md-3">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="Foundation" src="img/product_img/cos1.jpg" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a href="/product/4" class="text-decoration-none" style="color: rgb(251, 39, 208); font-weight: bold;">Foundation</a>
                            </h6>
                        </div>
                    </div>
                </div>
        
                <!-- Sample Product 5: Cosmetic - Lipstick -->
                <div class="col-md-3">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="Lipstick" src="img/product_img/cos2.jpg" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a href="/product/5" class="text-decoration-none" style="color: rgb(251, 39, 208); font-weight: bold;">Lipstick</a>
                            </h6>
                        </div>
                    </div>
                </div>
        
                <!-- Sample Product 6: Appliance - Fridge -->
                <div class="col-md-3">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="Fridge" src="img/product_img/fridge.png" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a href="/product/6" class="text-decoration-none" style="color: rgb(251, 39, 208); font-weight: bold;">Fridge</a>
                            </h6>
                        </div>
                    </div>
                </div>
        
                <!-- Sample Product 7: Appliance - Laptop -->
                <div class="col-md-3">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="Laptop" src="img/product_img/hp.jpg" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a href="/product/7" class="text-decoration-none" style="color: rgb(251, 39, 208); font-weight: bold;">Laptop</a>
                            </h6>
                        </div>
                    </div>
                </div>
        
                <!-- Sample Product 8: Appliance - Grinder -->
                <div class="col-md-3">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body text-center">
                            <img alt="Grinder" src="img/product_img/grinder.jpg" class="" width="65%" height="140px">
                            <h6 class="text-center">
                                <a href="/product/8" class="text-decoration-none" style="color: rgb(251, 39, 208); font-weight: bold;">Grinder</a>
                            </h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- End Latest Product Module -->

        <script>
            function scrollCategories(direction) {
                const container = document.getElementById('categoryContainer');
                const scrollAmount = 300; // Adjust scroll amount as needed
                
                if (direction === 'left') {
                    container.scrollBy({
                        left: -scrollAmount,
                        behavior: 'smooth'
                    });
                } else {
                    container.scrollBy({
                        left: scrollAmount,
                        behavior: 'smooth'
                    });
                }
            }

            // Show/hide scroll buttons based on scroll position
            document.addEventListener('DOMContentLoaded', function() {
                const container = document.getElementById('categoryContainer');
                const leftButton = document.querySelector('.scroll-left');
                const rightButton = document.querySelector('.scroll-right');

                function updateScrollButtons() {
                    leftButton.style.display = container.scrollLeft > 0 ? 'flex' : 'none';
                    rightButton.style.display = 
                        container.scrollLeft < (container.scrollWidth - container.clientWidth) ? 'flex' : 'none';
                }

                container.addEventListener('scroll', updateScrollButtons);
                window.addEventListener('resize', updateScrollButtons);
                updateScrollButtons(); // Initial check
            });
        </script>
    </section>
</body>
</html>